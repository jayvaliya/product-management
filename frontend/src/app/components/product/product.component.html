<!-- Modal for updating product -->
<div
  *ngIf="isModalOpen"
  class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm"
>
  <div class="bg-white p-6 rounded-xl shadow-lg w-96">
    <h3 class="text-xl font-semibold mb-4 text-gray-800">Update Product</h3>
    <input
      type="text"
      [(ngModel)]="selectedProduct.name"
      placeholder="Name"
      class="w-full p-2 border rounded-lg mb-2 focus:ring-2 focus:ring-blue-500"
    />
    <input
      type="text"
      [(ngModel)]="selectedProduct.description"
      placeholder="Description"
      class="w-full p-2 border rounded-lg mb-2 focus:ring-2 focus:ring-blue-500"
    />
    <input
      type="number"
      [(ngModel)]="selectedProduct.quantity"
      placeholder="Quantity"
      class="w-full p-2 border rounded-lg mb-2 focus:ring-2 focus:ring-blue-500"
    />
    <input
      type="number"
      [(ngModel)]="selectedProduct.price"
      placeholder="Price"
      class="w-full p-2 border rounded-lg mb-4 focus:ring-2 focus:ring-blue-500"
    />
    <div class="flex justify-end space-x-2">
      <button
        (click)="updateProduct()"
        class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"
      >
        Update
      </button>
      <button
        (click)="closeModal()"
        class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition"
      >
        Cancel
      </button>
    </div>
  </div>
</div>

<!-- Product Form -->
<div class="container mx-auto p-6 bg-white rounded-xl shadow-lg mb-6">
  <h2 class="text-2xl font-semibold text-gray-800 mb-4">Add New Product</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700 mb-1"
        >Name</label
      >
      <input
        #name
        type="text"
        id="name"
        placeholder="Product name"
        class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-green-500"
      />
    </div>
    <div>
      <label
        for="description"
        class="block text-sm font-medium text-gray-700 mb-1"
        >Description</label
      >
      <input
        #description
        type="text"
        id="description"
        placeholder="Product description"
        class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-green-500"
      />
    </div>
    <div>
      <label for="quantity" class="block text-sm font-medium text-gray-700 mb-1"
        >Quantity</label
      >
      <input
        #quantity
        type="number"
        id="quantity"
        placeholder="Quantity"
        class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-green-500"
      />
    </div>
    <div>
      <label for="price" class="block text-sm font-medium text-gray-700 mb-1"
        >Price</label
      >
      <input
        #price
        type="number"
        id="price"
        placeholder="Price"
        class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-green-500"
      />
    </div>
  </div>
  <button
    (click)="addProduct()"
    class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition"
  >
    Add Product
  </button>
</div>

<!-- Product List Table -->
<div class="container mx-auto p-6 bg-white rounded-xl shadow-lg">
  <h2 class="text-2xl font-semibold text-gray-800 mb-4">Product List</h2>
  <div class="overflow-x-auto">
    <table class="w-full border border-gray-300 bg-white rounded-lg">
      <thead class="bg-gray-100">
        <tr class="text-gray-700">
          <th class="px-4 py-2 border">Name</th>
          <th class="px-4 py-2 border">Description</th>
          <th class="px-4 py-2 border">Quantity</th>
          <th class="px-4 py-2 border">Price</th>
          <th class="px-4 py-2 border">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products" class="hover:bg-gray-50">
          <td class="px-4 py-2 border">{{ product.name }}</td>
          <td class="px-4 py-2 border">{{ product.description }}</td>
          <td class="px-4 py-2 border text-center">{{ product.quantity }}</td>
          <td class="px-4 py-2 border text-center">{{ product.price }}</td>
          <td class="px-4 py-2 border text-center">
            <button
              (click)="openModal(product)"
              class="bg-yellow-500 text-white px-3 py-1 rounded-lg hover:bg-yellow-600 transition"
            >
              Edit
            </button>
            <button
              (click)="deleteProduct(product._id)"
              class="bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-600 transition ml-2"
            >
              Delete
            </button>
          </td>
        </tr>
        <tr *ngIf="products.length === 0">
          <td colspan="5" class="px-4 py-4 text-center text-gray-500">
            No products available
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
